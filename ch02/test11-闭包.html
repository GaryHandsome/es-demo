<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!--
        概念
            闭包可以理解为定义在一个函数内部的函数（内部函数）
            闭包就是读取其它函数内部变量的函数

            本质上，闭包是将函数内部和函数外部连接起来的桥梁

        特点
            通过闭包，我们可以在函数外部操作函数内部的数据，破坏了作用域链
            闭包对应的函数中的变量是常驻内存

        条件
            函数嵌套（内部函数）
            内部函数访问所在函数的变量

        闭包函数的操作步骤
            第一：定义外部函数，并封装相关的变量
            第二：定义内部函数，并对外部函数的变量进行访问，根据不同的需要进行相应的处理
            第三：在外部函数内返回内部函数
            第四：自调用函数，使用一个变量接收，便于再次使用（重写函数）


    -->
    <script>
        // 外部函数、自调用函数、重写函数
        var counter = function() {

            // 局部函数：此变量i一直驻留在内存中
            var i = 0 ;

            // 内部函数 - 闭包函数 - 内鬼 - 破坏了作用域链
            return function() {
                return i++ ;
            }
        }() ;

        // ... 能否访问i变量？- 不可以
        // console.log(i)

        // 通过闭包可以在函数外访问函数的内部变量（突破作用域链）
        console.log(counter()) ;		// 0
        console.log(counter()) ;		// 1
        console.log(counter()) ;		// 2
    </script>
</body>
</html>