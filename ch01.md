## 第一章 - JavaScript核心组成

### 一、概述

JavaScript（简称JS）是一种轻量级、解释型、动态类型的高级程序设计语言。



#### 1、组成

JavaScript = ECMAScript  + DOM（文档对象模型）+ BOM（浏览器对象模型）

- ECMAScript：定义了语言的语法、类型、语句、关键字、保留字、操作符、对象等核心内容。

- DOM（Document Object Model）：定义了处理网页内容的方法和接口。

- BOM（Browser Object Model）：定义浏览器进行交互的方法和接口。



#### 2、JavaScript与ECMAScript之间的关系

ECMAScript是标准，JavaScript是ECMAScript的实现



#### 3、特点

- 解释型的脚本语言

- 基于对象

- 事件驱动

- 跨平台

- 安全性

- 弱类型



### 二、ECMAScript

宿主：比如，寄生虫寄生在人体这个环境才可以生存。这里的人体就是宿主环境。

这里的ECMAScript及相关的ECMAScript实现（JavaScript）也像寄生虫一样，需要一个宿主环境才可以运行。这个宿主环境一般是浏览器。



### 三、数据类型

#### 1、基本数据类型

- number：数值型类型，包括int,long,double,float,short

- string：字符串类型，注：字符串使用单引号或双引号引住

- boolean：布尔类型，它只有true或false两个值

- undefine：没有定义类型，当定义一个变量，且没有给变量赋值

- null：空类型，使用了一个不存在对象



通常，数值、字符串、布尔值这三种类型，合称为原始类型，它们是最基本的数据类型，不能再细分；

 

而undefine和null，我们可以看成是两个特殊的数值



#### 2、对象类型

- 狭义的对象（object）

- 数组（array）

- 函数（function）



引用数据类型，也称之为对象类型或合成类型。因为一个对象往往由多个原始类型组成；

 

狭义的对象和数组是两种不同的数据组合方式；

 

函数其实是处理数据的方法，JavaScript 把它当成一种特殊的数据类型，可以赋值给变量，这为编程带来了很大的灵活性，也为 JavaScript 的“函数式编程”奠定了基础。

```javascript
function fun() {
    
}

var fun = function() {
    
}

var age = 100 ;
```



### 四、语法要点

#### 1、typeof运算符

用于查看数据或变量的数据类型

```js
var age = "你好" ;

// 返回数据类型的字符串表示
var type = typeof age ;

console.log(type)
```



#### 2、instanceof运算符

> 语法：object instanceof constructor

- 用来检测constructor.prototype是否存在于参数object的原型链上

- 简单理解，用于判断对象是否用指定的构造器函数创建

```javascript
// 定义一个函数
function Student() {

}

// 实例化对象
var zs = new Student();
var ls = new Array() ;

// 判断 zs 这个对象是否由 Student这个函数构造出来
var bl1 = zs instanceof Student ;
var bl2 = ls instanceof Student ;

// 结果为：true,false
console.log(bl1,bl2)
```



#### 3、undefind

使用没有赋值的变量



#### 4、特殊的boolean类型

- null：false

- undefined：false

- boolean：保持原值

- number：+0、-0、NaN、0.0为false、其它为true

- string：空字符串为false，其它为true

- object：true

```javascript
!stu 
```



#### 5、== 与 ===

- ==：数值比较（会进行类型转换）

- ===：数值比较 && 类型比较（不会进行类型转换）

```javascript
console.info("5" == 5) 			// true
// 更严紧、更苛刻
console.info("5" === 5) 		// false
```



#### 6、逻辑或的特殊使用

在JavaScript中，当进行逻辑运算时，没有严格要求参与运算的操作数必须为boolean类型的数据，运算的结果也不一定为boolean类型的数据。

```javascript
// true，操作数abc并不是boolean类型的数据(参照上面，非空字符串为true)
console.info("abc" && true) ;

// 当进行逻辑或运算时，如果操作数是boolean类型的数据，则结果为正常的boolean值;
console.info(true || 200 < 20) ; // true

// 当操作数为非boolean型数据时，如果第一个操作数为true（参照上面特殊的boolean型数据），则返回第一个操作数，否则返回第二个操作数。
var name = "tom" ;
console.info(s || "匿名") ;			// 匿名
console.info(name || "匿名") ;		// true,tom

var event = window.event || arguments[0] ;
```



### 五、严格模式

#### 1、概述

在ECMAScript5中，增加了**严格模式**，它采用具有限制性JavaScript变体的一种方式，从而使代码显示地 脱离“马虎模式/稀松模式/懒散模式“（sloppy mode）模式。

- 严格模式通过**抛出错误**来消除了一些原有**静默错误**。

- 严格模式修复了一些导致 JavaScript引擎难以执行优化的缺陷：有时候，相同的代码，严格模式可以比非严格模式下**运行得更快**。

- 严格模式**禁用了**在ECMAScript的未来版本中可能会定义的一些语法。

- 严格模式使JavaScript更加规范，减少了语法中一些不合理、不严谨、怪异的地方；它可能会增加你写代码的难度，因为你熟悉的那些语法可以不能用了。



#### 2、开启严格模式

**方式一：为脚本开启严格模式**

使用"use strict"或'use strict'放在脚本的第一行，则使整个脚本或文件将以严格模式执行JS代码。

```html
<script>
  	// 在当前script中，使用严格模式
  	"use strict"
    
  	var str = "严格模式" ;
  	console.info(str) ;
</script>

<script>
  	// 另一个script，默认为非严格模式（sloppy mody），不受上面script的影响
  	str  = "非严格模式" ;
  	console.info(str) ;
</script>
```





**方式二：为函数开启严格模式**

```javascript
<script>
	function fun1() {
  	//在当前函数中，使用严格模式
  	"use strict"
  	var str = "严格模式" ;
  	console.info(str) ;
  }
  
  function fun2() {
  	//另一个script，默认为非严格模式（sloppy mody），不受上面函数影响
  	var str = "严格模式" ;
  	console.info(str) ;
  }
</script>
```

区别于方式一：作用范围不一样

