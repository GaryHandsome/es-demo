<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!--
        改变this的指向 - 比较箭头函数与非箭头函数中this关键字的指向问题


        基于文本标记法定义对象 VS 基于构造方法定义对象

        结论：在构造函数定义对象中，箭头函数中的this指向是仍然是对应的上下文对象 - Obj
    -->

    <button>点我看看</button>

    <script>

        let user = {name:"张三"}

        // 文本标记法定义对象
        function Obj() {
            this.name = '测试',

            // 非箭头函数
            this.fun1 = function() {
                // 这里的this，根据调用此方法动态绑定的，由其调用的上下文決定this关键字的指向
                // 即，谁调用fun1方法，this表示的就是谁 - 复杂不可控
                console.log(this);
            } ,

            // 箭头函数
            this.fun2 = () => {
                // 箭头函数不动态绑定this,在这里，fun2函数定义的位置上下文中，当前对象指定的是window对象
                console.log(this);
            }
        }

        let obj = new Obj() ;
        // obj.fun2() ;
        obj.fun2.call(user) ;





    </script>

</body>
</html>